@{
  ViewData["Title"] = "Blog";
}
@using Markdig
@using Microsoft.AspNetCore.Mvc.TagHelpers
@model BlogViewModel;

<div class="text-center">
  <h1 class="display-4">Blog</h1>
</div>
<div>

  <p>
    <a asp-action="Create">Create New</a> |
    <a asp-action="BlogCategoriesIndex">Blog Categories</a>
  </p>

  @if (!Model.BlogPosts.Any())
  {
    <p>There are no blog posts in the database!</p>
  }
  else
  {
    <ul>
      @foreach (var post in Model.BlogPosts)
      {
        <li>
          @post.Title
          <ul>
            <li>Category: @post.Category.Name</li>
            <li>Status: @post.Status</li>
            <li>
              Content:<br/>
              @Html.Raw(Markdown.ToHtml(post.Content))
            </li>
          </ul> -
          <a asp-action="Edit"
             asp-route-id="@post.Id">
            Edit
          </a> -
          <a asp-action="Delete"
             asp-route-id="@post.Id">
            Delete
          </a>
        </li>
      }
    </ul>
  }
</div>